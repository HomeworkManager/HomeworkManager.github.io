(this["webpackJsonphomeworkmanager.github.io"]=this["webpackJsonphomeworkmanager.github.io"]||[]).push([[7],{208:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return J}));var a=n(111),c=n(86),r=n(155),i=n(184),s=n(185),o=n(186),l=n(205),j=n(188),u=n(190),d=n(192),b=n(193),O=n(181),h=n(178),m=n(195),g=n(203),x=n(198),f=n(199),p=n(191),v=n(194),D=n(85),y=n(202),w=n(0),k=n(175),C=n(177),S=n(209),A=n(189),T=n(179),U=n(187),M=n(2),F=n(80),N=n(4);function _(e){var t=e.title,n=Object(M.g)(),a=Object(w.useState)(!1),r=Object(c.a)(a,2),l=r[0],u=r[1];return Object(N.jsxs)(k.a,{position:"static",children:[Object(N.jsxs)(C.a,{children:[Object(N.jsx)(h.a,{edge:"start",color:"inherit",onClick:function(){return u(!0)},children:Object(N.jsx)(T.a,{})}),Object(N.jsx)(O.a,{variant:"h6",noWrap:!0,children:t})]}),Object(N.jsx)(S.a,{anchor:"left",open:l,onClose:function(){return u(!1)},children:Object(N.jsxs)("div",{style:{width:200},children:[Object(N.jsx)(i.a,{children:Object(N.jsxs)(s.a,{button:!0,onClick:function(){var e;null===(e=F.a.currentUser)||void 0===e||e.logOut(),n.push("/login")},children:[Object(N.jsx)(o.a,{children:Object(N.jsx)(U.a,{})}),Object(N.jsx)(j.a,{primary:"User Name"})]})}),Object(N.jsx)(A.a,{}),Object(N.jsxs)(i.a,{children:[Object(N.jsx)(s.a,{button:!0,children:"Assignments"}),Object(N.jsx)(s.a,{button:!0,children:"Classes"})]})]})})]})}function J(){var e,t=Object(w.useState)([]),n=Object(c.a)(t,2),k=n[0],C=n[1],S=Object(w.useState)(!1),A=Object(c.a)(S,2),T=A[0],U=A[1],M=Object(w.useState)({}),J=Object(c.a)(M,2),W=J[0],Y=J[1],q=null===(e=F.a.currentUser)||void 0===e?void 0:e.mongoClient("mongodb-atlas").db("HomeworkManager");return Object(w.useEffect)((function(){q.collection("Assignments").find({},{sort:{completed:1,dueDate:1},completed:!0,dueDate:!0,name:!0}).then(C)}),[T,q]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(_,{title:"Assignments"}),Object(N.jsx)(i.a,{children:k.map((function(e,t){var n=e._id,a=e.name,c=e.dueDate,r=e.completed;return Object(N.jsxs)(s.a,{children:[Object(N.jsx)(o.a,{children:Object(N.jsx)(l.a,{edge:"start",checked:r,onChange:function(){!function(e,t,n){q.collection("Assignments").updateOne({_id:e},{$set:{completed:t}}).then((function(e){var a=k.slice();a[n].completed=t,C(a)}))}(n,!r,t)}})}),Object(N.jsx)(j.a,{primary:a,secondary:L(c)})]},t)}))}),Object(N.jsx)(u.a,{color:"secondary",style:{position:"absolute",bottom:"33px",right:"33px"},onClick:function(){return U(!0)},children:Object(N.jsx)(p.a,{})}),Object(N.jsxs)(d.a,{open:T,onClose:function(){return U(!1)},children:[Object(N.jsxs)(b.a,{disableTypography:!0,children:[Object(N.jsx)(O.a,{variant:"h6",children:"New Assignment"}),T?null:Object(N.jsx)(h.a,{children:Object(N.jsx)(v.a,{})})]}),Object(N.jsxs)(m.a,{dividers:!0,children:[Object(N.jsx)(g.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,label:"Name",autoFocus:!0,onChange:function(e){return Y(Object(a.a)(Object(a.a)({},W),{},{name:e.target.value}))}}),Object(N.jsx)(D.a,{utils:r.a,children:Object(N.jsx)(y.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",label:"Due Date",value:W.dueDate,onChange:function(e){return Y(Object(a.a)(Object(a.a)({},W),{},{dueDate:e}))},KeyboardButtonProps:{"aria-label":"change date"}})})]}),Object(N.jsx)(x.a,{children:Object(N.jsx)(f.a,{color:"primary",onClick:function(e){e.preventDefault(),q.collection("Assignments").insertOne(Object(a.a)(Object(a.a)({},W),{},{completed:!1,user_id:F.a.currentUser.id})).then((function(){Y({}),U(!1)}))},children:"Add"})})]})]})}function L(e){e=new Date(e.toDateString());var t=new Date;if(e.getTime()===t.getTime())return"today";if(t.setDate(t.getDate()+1),e.getTime()===t.getTime())return"tomorrow";t=new Date;var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()),a=new Date(t.getFullYear(),t.getMonth(),n.getDate()+6);return e>=n&&e<=a?e.toLocaleDateString("en-US",{weekday:"short"}):e.toLocaleDateString("en-US",{month:"numeric",day:"numeric"})}},80:function(e,t,n){"use strict";var a=new(n(89).a)({id:"application-0-eomix"});t.a=a}}]);
//# sourceMappingURL=7.a2a48b45.chunk.js.map